<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width initial-scale=1">

  <title>Creational Design Patterns</title>
  <meta name="description" content="Design patterns are reusable solutions to often occurring problems in software engineering. As any problem has its own individual facets it’s important to un...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="/DesignPatterns/">
  <link rel="alternate" type="application/atom+xml" title="Blog" href="/feed.xml" />
</head>

  <body>
    

<div class="header-container" id="header-container">

<!-- Site navigation -->
  <nav class="site-nav">
    <div class="trigger">
      <a class="page-link" href="/">Home</a>
      
        
        <a class="page-link" href="/about/">About</a>
        
      
        
      
        
      
        
      
      <a class="page-link" href="/feed.xml">RSS</a>
    </div>
  </nav>

  <!-- The title of the site -->
  <header class="site-header">
    <a href="/">
      <img src="/assets/images/label.png" style="padding:5px;" />
    </a>
  </header>

</div>

      <div class="wrapper">
        <div class="page-content">
          <div class="post">

  <header class="post-header">
    <h1 class="post-title">Creational Design Patterns</h1>
    <p class="post-meta">March 28, 2017</p>
  </header>

  <!-- Beginning Twitter sharing Large button -->
  <a class="twitter-share-button" href="https://twitter.com/share"
  data-related="twitterdev"
  data-size="large"
  data-count="horizontal">
  Tweet
  </a>
  <!-- End of Twitter sharing button -->

  <article class="post-content">
    <p>Design patterns are reusable solutions to often occurring problems in software engineering. As any problem has its own individual facets it’s important to understand that these design patterns cannot be used thoughtlessly. Therefore design pattern are more like templates or best practices that helps forming a nice fitting solution.</p>

<p>In this blog post I want to list some of the more popular <strong>creational patterns</strong> (pattern about object creation mechanisms) with examples in java code. I don’t want to get very deep into each pattern, but rather give you an quick overview of what each pattern does and when you want to use it.</p>

<h2 id="singleton">Singleton</h2>

<p>If you need to make sure that there is only one instance of a class in your whole application, the singleton pattern might by helpful. Especially if you want to access this single instance from various parts throughout the system.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Singleton</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="n">instance</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    
    <span class="c1">// Private Constructor to prevent instantiation.</span>
    <span class="kd">private</span> <span class="nf">Singleton</span><span class="o">()</span> <span class="o">{}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">instance</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Singleton</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">instance</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>As you can see in the java example the class that is implemented as a singleton needs to have a private constructor to prevent other classes from instantiate this class. Instead other classes can call the static <code class="highlighter-rouge">getInstance()</code> Method to get the current instance of the singleton class. A complete instantiation would look like:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AnyClass</span> <span class="o">{</span>
    <span class="c1">// (...)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">anyMethod</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// (...)</span>
        <span class="n">Singleton</span> <span class="n">singleton</span> <span class="o">=</span> <span class="n">Singleton</span><span class="o">.</span><span class="na">getInstance</span><span class="o">();</span>
        <span class="n">singleton</span><span class="o">.</span><span class="na">doSomething</span><span class="o">();</span>
        <span class="c1">// (...)</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<h2 id="factory">Factory</h2>

<p>Sometimes it’s useful to create an object based on some criteria rather than configuring each individual attribute yourself. For example if you want to get a <code class="highlighter-rouge">Smartphone</code> object and use the <code class="highlighter-rouge">doCall()</code> Method on that object. Normally you would need to call the constructor giving the specs for that smartphone. With using the factory pattern you could instead instantiate the object giving in a criteria (<code class="highlighter-rouge">CHEAP</code>, <code class="highlighter-rouge">EXPENSIVE</code>).</p>

<p>In java code calling the <code class="highlighter-rouge">SmartphoneFactory</code> and using the <code class="highlighter-rouge">doCall()</code> method would look like this:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AnyClass</span> <span class="o">{</span>
    <span class="c1">// (...)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">anyMethod</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">Smartphone</span> <span class="n">smartphone</span> <span class="o">=</span> <span class="n">SmartphoneFactory</span>
                <span class="o">.</span><span class="na">buildSmartphone</span><span class="o">(</span><span class="n">SmartphoneType</span><span class="o">.</span><span class="na">LARGE</span><span class="o">);</span>
        <span class="n">smartphone</span><span class="o">.</span><span class="na">doCall</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p><code class="highlighter-rouge">Smartphone</code> is an abstract class that gets extended by classes like <code class="highlighter-rouge">Samsung Galaxy S7</code> or <code class="highlighter-rouge">Moto G4</code>. This concrete smartphone classes gets build by the <code class="highlighter-rouge">SmartphoneFactory</code> depending on the criteria passed in.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SmartphoneFactory</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Smartphone</span> <span class="nf">buildSmartphone</span><span class="o">(</span><span class="n">SmartphoneType</span> <span class="n">type</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span><span class="o">(</span><span class="n">type</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">case</span> <span class="nl">CHEAP:</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nf">MotoG4</span><span class="o">(</span><span class="s">"32GB"</span><span class="o">,</span> <span class="s">"4GB RAM"</span><span class="o">,</span> <span class="o">(...));</span>
            <span class="k">case</span> <span class="nl">EXPENSIVE:</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nf">SamsungGalaxyS7</span><span class="o">(</span><span class="s">"64GB"</span><span class="o">,</span> 
                        <span class="s">"6GB RAM"</span><span class="o">,</span> <span class="o">(...));</span>
            <span class="k">default</span><span class="o">:</span>
                <span class="k">return</span> <span class="kc">null</span><span class="o">;</span> <span class="c1">//unkown type</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>As you have seen in this small example the creation of the concrete smartphone implementation is completely encapsulated from <code class="highlighter-rouge">AnyClass</code>. Instead the class has let the <code class="highlighter-rouge">SmartphoneFactory</code> build the concrete object.</p>

<h2 id="builder">Builder</h2>

<p>Contructors can get pretty big for classes with a huge amount of attributes. This makes it very difficult to instantiate the object without the help of the auto completion of your IDE. Moreover it’s often hard to tell which parameter stands for which attribute in the class. Consider this short example:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Smartphone</span> <span class="n">smartphone</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Smartphone</span><span class="o">(</span>
                            <span class="s">"Samsung"</span><span class="o">,</span> <span class="s">"Galaxy S7"</span><span class="o">,</span> <span class="s">"8GB"</span><span class="o">,</span> <span class="s">"16GB"</span><span class="o">);</span></code></pre></figure>

<p>Without looking into the <code class="highlighter-rouge">Smartphone</code> class it’s hard to tell if 8GB is the RAM or the Memory. For situations like this the builder pattern could be used to make the code easier to read and the classes easier to instantiate. With this pattern implemented the instantiation would look like this:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Smartphone</span> <span class="n">smartphone</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SmartphoneBuilder</span><span class="o">(</span><span class="s">"Galaxy S7"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setBrand</span><span class="o">(</span><span class="s">"Samsung"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setRam</span><span class="o">(</span><span class="s">"8GB"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setMemory</span><span class="o">(</span><span class="s">"16GB"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span></code></pre></figure>

<p>The <code class="highlighter-rouge">SmartphoneBuilder</code> is a static inner class within the <code class="highlighter-rouge">Smartphone</code> class. Note that the builder class takes all the mandatory attributes of <code class="highlighter-rouge">Smartphone</code> as parameter in the constructor. The final Smartphone gets instantiated in the <code class="highlighter-rouge">build()</code> method.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Smartphone</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span> <span class="c1">// mandatory</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">brand</span><span class="o">;</span> <span class="c1">// optional</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">ram</span><span class="o">;</span> <span class="c1">// optional</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">memory</span><span class="o">;</span> <span class="c1">// optional</span>

    <span class="kd">private</span> <span class="nf">Smartphone</span><span class="o">(</span><span class="n">SmartphoneBuilder</span> <span class="n">builder</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">brand</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">brand</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">ram</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">ram</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">memory</span> <span class="o">=</span> <span class="n">builder</span><span class="o">.</span><span class="na">memory</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="c1">// Getter for name, brand, ram, memory</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">SmartphoneBuilder</span> <span class="o">{</span>
        <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
        <span class="kd">private</span> <span class="n">String</span> <span class="n">brand</span><span class="o">;</span>
        <span class="kd">private</span> <span class="n">String</span> <span class="n">ram</span><span class="o">;</span>
        <span class="kd">private</span> <span class="n">String</span> <span class="n">memory</span><span class="o">;</span>
        
        <span class="kd">public</span> <span class="nf">SmartphoneBuilder</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="o">}</span>
        
        <span class="kd">public</span> <span class="n">SmartphoneBuilder</span> <span class="nf">setBrand</span><span class="o">(</span><span class="n">String</span> <span class="n">brand</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">brand</span> <span class="o">=</span> <span class="n">brand</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>
        
        <span class="kd">public</span> <span class="n">SmartphoneBuilder</span> <span class="nf">setRam</span><span class="o">(</span><span class="n">String</span> <span class="n">ram</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">ram</span> <span class="o">=</span> <span class="n">ram</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>
        
        <span class="kd">public</span> <span class="n">SmartphoneBuilder</span> <span class="nf">setMemory</span><span class="o">(</span><span class="n">String</span> <span class="n">memory</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">memory</span> <span class="o">=</span> <span class="n">memory</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
        <span class="o">}</span>
        
        <span class="kd">public</span> <span class="n">Smartphone</span> <span class="nf">build</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">Smartphone</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>To sum it up, I’ve shown you three creational design pattern:</p>
<ol>
  <li>The <strong>Singleton</strong> for sitatuations in which you want to make sure, only one single instance is created throughout the whole application.</li>
  <li>The <strong>Factory</strong> for situation in which you want to get preconfigured instances based on some criteria.</li>
  <li>The <strong>Builder</strong> for classes that would otherwise need a huge list of parameters in the constructor.</li>
</ol>

  </article>

  <hr>

  <div class="related">
    <h2>Related</h2>
    
      <li><a href="/FirstPost/" title="This is the first post">This is the first post
       &nbsp; <span class="post-meta">December 08, 2014</span></a>
    
  </div>

</div>

        </div>
        <footer class="site-footer">
<p class="small">David Klassen &copy 2017
</p>
</footer>

    </div>

    <script src="//cdn.jsdelivr.net/headroomjs/0.5.0/headroom.min.js"></script>
    <script type="text/javascript">
      var el = document.querySelector(".header-container");
      var headroom  = new Headroom(el, {
        "offset": 205,
        "tolerance": 5
      });
      headroom.init();
    </script>


    <!-- Twitter Shizzle -->
    <script type="text/javascript">
    window.twttr = (function (d, s, id) {
      var t, js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src= "https://platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js, fjs);
      return window.twttr || (t = { _e: [], ready: function (f) { t._e.push(f) } });
    }(document, "script", "twitter-wjs"));
    </script>

  </body>
</html>
